# PyFloatingCell

## 交通仿真手机样本数据处理程序说明

原始数据表中主要需要用到“Simulation time”、“Global Vehicle ID”、“Link ID”、“Vehicle X”、“Velocity”、“Vehicle Y”、“Road ID”数据，其中“Road ID”还在整理中，但不影响先处理数据生成采样数据，主要是为了数据分析时使用。数据为仿真软件中所有车辆在间隔1秒的位置坐标（X，Y）连续记录，但数据长度是变化的，根据车辆在仿真网络中运行的时间而变化。

## 数据处理需求说明

1. 计出交通仿真获得的车辆样本总数量N；
2. 抽样率P作为参数，即拟对总体车辆样本中设定追踪的数量，可以调整不同取值，P的取值范围为0%~100%，通常为1%~10%；例如，总体仿真样本中共有N=1500辆车，抽样率P=3%，那么需要抽样的样本车辆数量为45辆车； 
3. 样规则，这个有两种需求，一种是随机抽样，这样可能会发生有些道路上没有样本车辆的情形；另外一种是按照每条道路都有样本的原则进行抽样，具体如何操作，需要讨论后确定；抽样率和抽样规则确定后生成相应的数据表1（数据格式为车辆编号、仿真时间、X、Y、速度、路段编号、道路编号）；
4. 置参数控制时间窗，即对每辆车的仿真位置轨迹进行截取，想分析不同的手机通话时长TW下的样本，例如每辆车保持全程通话（全通话时长，按照仿真时段900秒、15分钟，全时长样本必做）、通话时长为：小于1分钟、1~2分钟、2~3分钟、3~4分钟等。具体的实现方式W（t1，t2）？但由于仿真车辆停留在仿真系统的时间是变化的，这样的起始、终止时间可能不好操作实现？或者可以这样，事先制定通话时长，例如TW=1~2分钟，那么对每个车辆样本，检查其运行时间是否大于或等于2分钟，如果不是，则取该样本的全时长即可，如果是，则截取其中一段通话长度为1<a<=2的随机值的位置坐标轨迹，注意，尽可能截取中间部分的轨迹，避开两端的轨迹。设定时间窗后生成数据表2（数据格式为车辆编号、仿真时间、X、Y、速度、路段编号、道路编号）；本质上，抽样就是截取部分样本数据和车辆的部分位置轨迹数据。
